<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø®Ø¯Ù…Ø§ØªÙŠ - Ø§Ù„Ø¨ØµØ±Ø© Ø§Ù„Ø´Ø§Ù…Ù„</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap');
        :root { 
            --royal-blue: #002366; 
            --gold: #D4AF37; 
            --white: #ffffff; 
            --glass-bg: rgba(255, 255, 255, 0.08);
            --gold-glow: rgba(212, 175, 55, 0.4);
        }
        
        body { 
            font-family: 'Tajawal', sans-serif; margin: 0; padding: 0;
            background: radial-gradient(circle at center, #003399 0%, #001133 100%);
            color: var(--white); min-height: 100vh; overflow-x: hidden;
            display: flex; flex-direction: column;
        }

        .header {
            text-align: center; padding: 40px 20px;
            background: var(--glass-bg); backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--gold); margin-bottom: 30px;
            box-shadow: 0 4px 30px rgba(0,0,0,0.5);
        }

        .header h1 { 
            margin: 0; font-size: 2.5rem; font-weight: 900; color: var(--gold);
            text-shadow: 0 0 15px var(--gold-glow); letter-spacing: 1px;
        }

        .header p { margin: 10px 0 0; font-size: 1.1rem; opacity: 0.9; }

        .container {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px; padding: 20px; max-width: 1200px; margin: 0 auto 100px;
        }

        .card {
            background: var(--glass-bg); backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.1); border-radius: 20px;
            padding: 20px; text-align: center; transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer; position: relative; overflow: hidden;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }

        .card::before {
            content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: 0.5s;
        }

        .card:hover::before { left: 100%; }

        .card:active { transform: scale(0.95); border-color: var(--gold); box-shadow: 0 0 20px var(--gold-glow); }

        .card i, .card .material-symbols-outlined { font-size: 2.8rem; margin-bottom: 15px; color: var(--gold); transition: 0.3s; }
        .card h3 { margin: 0; font-size: 1.1rem; font-weight: 700; color: var(--white); }

        .special-wood { display: flex; gap: 8px; align-items: center; justify-content: center; margin-bottom: 15px; color: var(--gold); }
        .special-wood i { font-size: 1.4rem; margin: 0; }

        .gen-icon { position: relative; width: 60px; height: 60px; margin-bottom: 15px; display: flex; align-items: center; justify-content: center; }
        .gen-icon .fa-gears { font-size: 2.2rem; }
        .gen-icon .fa-bolt { position: absolute; font-size: 1rem; color: #fff; text-shadow: 0 0 5px var(--gold); }

        .modal {
            display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); backdrop-filter: blur(12px); align-items: center; justify-content: center;
        }

        .modal-content {
            background: linear-gradient(135deg, #001a44 0%, #000c22 100%);
            border: 1px solid var(--gold); padding: 30px; border-radius: 30px;
            width: 90%; max-width: 450px; position: relative; box-shadow: 0 0 40px rgba(0,0,0,0.6);
        }

        .modal-content h2 { margin-top: 0; color: var(--gold); text-align: center; margin-bottom: 25px; font-size: 1.8rem; }

        input, select, textarea {
            width: 100%; padding: 14px; margin: 12px 0; border-radius: 15px;
            border: 1px solid rgba(255,255,255,0.1); background: rgba(255,255,255,0.05);
            color: white; font-family: 'Tajawal'; font-size: 1rem; box-sizing: border-box; outline: none; transition: 0.3s;
        }

        input:focus, select:focus, textarea:focus { border-color: var(--gold); background: rgba(255,255,255,0.1); }

        button {
            width: 100%; padding: 16px; border-radius: 15px; border: none;
            background: linear-gradient(45deg, var(--gold), #f3cf58);
            color: var(--royal-blue); font-weight: 900; font-size: 1.2rem;
            cursor: pointer; transition: 0.3s; margin-top: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        button:active { transform: scale(0.98); }
    </style>
</head>
<body>
    <div class="header">
        <h1>Ø®ÙØ¯Ù’Ù…Ø§ØªÙŠ - Ø§Ù„Ø¨ØµØ±Ø© Ø§Ù„Ø´Ø§Ù…Ù„</h1>
        <p>Ø¬ÙˆØ¯Ø©ØŒ Ø£Ù…Ø§Ù†ØŒ ÙˆØ³Ø±Ø¹Ø© ÙÙŠ Ø§Ù„ØªÙ†ÙÙŠØ°</p>
    </div>

    <div class="container">
        <div class="card" onclick="openM('ØªÙƒÙŠÙŠÙ ÙˆØªØ¨Ø±ÙŠØ¯', ['ØªÙ†Ø¸ÙŠÙ Ø³Ø¨Ù„ÙŠØª', 'Ø´Ø­Ù† ØºØ§Ø²', 'ØªØµÙ„ÙŠØ­ Ø¹Ø·Ù„', 'ØªØ±ÙƒÙŠØ¨ Ø¬Ø¯ÙŠØ¯', 'Ù†Ù‚Ù„ Ø³Ø¨Ù„Øª'])">
            <i class="fas fa-snowflake"></i>
            <h3>ØªÙƒÙŠÙŠÙ ÙˆØªØ¨Ø±ÙŠØ¯</h3>
        </div>

        <div class="card" onclick="openM('ÙƒÙ‡Ø±Ø¨Ø§Ø¡', ['ØªØ£Ø³ÙŠØ³ ÙƒØ§Ù…Ù„', 'ØªØµÙ„ÙŠØ­ Ø´ÙˆØ±Øª', 'ØªØ±ÙƒÙŠØ¨ Ø¥Ù†Ø§Ø±Ø©', 'Ø³Ø­Ø¨ Ø®Ø·ÙˆØ·', 'ØªÙˆØ²ÙŠØ¹ Ø£Ø­Ù…Ø§Ù„'])">
            <i class="fas fa-bolt"></i>
            <h3>ÙƒÙ‡Ø±Ø¨Ø§Ø¡</h3>
        </div>

        <div class="card" onclick="openM('Ø³Ø¨Ø§ÙƒØ©', ['ØªØµÙ„ÙŠØ­ Ù†Ø¶ÙˆØ­', 'ØªØ£Ø³ÙŠØ³ Ù…Ø§Ø¡', 'ØªØ±ÙƒÙŠØ¨ ÙÙ„Ø§ØªØ±', 'ØµÙŠØ§Ù†Ø© Ù…Ø¬Ø§Ø±ÙŠ', 'ØªØ±ÙƒÙŠØ¨ Ù…ØºØ§Ø³Ù„'])">
            <i class="fas fa-droplet"></i>
            <h3>Ø³Ø¨Ø§ÙƒØ©</h3>
        </div>

        <div class="card" onclick="openM('Ù†Ø¬Ø§Ø±Ø©', ['ØªØµÙ„ÙŠØ­ Ø£Ø¨ÙˆØ§Ø¨', 'ØºØ±Ù Ù†ÙˆÙ…', 'Ø£Ø«Ø§Ø« Ù…Ø·Ø¨Ø®', 'ØªØ±ÙƒÙŠØ¨ Ø¯ÙŠÙƒÙˆØ±', 'ØªØ¨Ø¯ÙŠÙ„ Ø£Ù‚ÙØ§Ù„'])">
            <div class="special-wood"><i class="fas fa-hammer"></i><i class="fas fa-tools"></i></div>
            <h3>Ù†Ø¬Ø§Ø±Ø©</h3>
        </div>

        <div class="card" onclick="openM('ØµÙŠØ§Ù†Ø© Ù…ÙˆÙ„Ø¯Ø§Øª', ['ØµÙŠØ§Ù†Ø© Ø¯ÙˆØ±ÙŠØ©', 'ØªØµÙ„ÙŠØ­ Ù…Ø­Ø±Ùƒ', 'Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ…', 'ØªØ¨Ø¯ÙŠÙ„ Ø¯Ù‡Ù†', 'ØªØµÙÙŠØ© Ø¯ÙŠØ²Ù„'])">
            <div class="gen-icon"><i class="fas fa-gears"></i><i class="fas fa-bolt"></i></div>
            <h3>Ù…ÙˆÙ„Ø¯Ø§Øª</h3>
        </div>
    </div>

    <div id="masterModal" class="modal">
        <div class="modal-content">
            <h2 id="modal-title">Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø©</h2>
            <form id="orderForm">
                <input type="hidden" id="h-service" name="service_name">
                <select id="sub-service" name="sub_service_type" required></select>
                <select id="u-loc" name="location" required>
                    <option value="" disabled selected>Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</option>
                    <option>Ù…Ø±ÙƒØ² Ø§Ù„Ø¨ØµØ±Ø©</option><option>Ø§Ù„Ø²Ø¨ÙŠØ±</option><option>Ø´Ø· Ø§Ù„Ø¹Ø±Ø¨</option>
                    <option>Ø£Ø¨ÙŠ Ø§Ù„Ø®ØµÙŠØ¨</option><option>Ø§Ù„Ù‚Ø±Ù†Ø©</option><option>Ø§Ù„ÙØ§Ùˆ</option>
                    <option>Ø§Ù„Ù‡Ø§Ø±Ø«Ø©</option><option>Ø³ÙÙˆØ§Ù†</option><option>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</option>
                </select>
                <input type="tel" id="u-phone" name="phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required>
                <textarea id="u-desc" name="notes" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" rows="3"></textarea>
                <button type="submit" id="submitBtn">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
            </form>
            <p id="status-msg" style="text-align:center; margin-top:10px;"></p>
        </div>
    </div>

    <script>
        function openM(service, subs) {
            document.getElementById('modal-title').innerText = service;
            document.getElementById('h-service').value = service;
            const select = document.getElementById('sub-service');
            select.innerHTML = subs.map(opt => `<option>${opt}</option>`).join('');
            document.getElementById('masterModal').style.display = 'flex';
        }

        function closeM() { document.getElementById('masterModal').style.display = 'none'; }

        window.onclick = function(event) {
            if (event.target == document.getElementById('masterModal')) closeM();
        }

        document.getElementById('orderForm').onsubmit = async function(e) {
            e.preventDefault();
            const btn = document.getElementById('submitBtn');
            const status = document.getElementById('status-msg');
            
            const service = document.getElementById('h-service').value;
            const subType = document.getElementById('sub-service').value;
            const location = document.getElementById('u-loc').value;
            const phone = document.getElementById('u-phone').value;
            const notes = document.getElementById('u-desc').value || "Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª";

            btn.disabled = true;
            status.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";

            // 1. Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ Formspree
            const formData = new FormData(this);
            try {
                const response = await fetch("https://formspree.io/f/mreqjepe", {
                    method: "POST",
                    body: formData,
                    headers: { 'Accept': 'application/json' }
                });

                if (response.ok) {
                    // 2. Ø¨Ø¹Ø¯ Ù†Ø¬Ø§Ø­ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ØŒ Ù†ÙØªØ­ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ ÙƒÙ…Ø§ ÙÙŠ Ù…Ù„ÙÙƒ Ø§Ù„Ø£ØµÙ„ÙŠ
                    const message = `*Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø© Ø¬Ø¯ÙŠØ¯*%0A%0AğŸ”§ Ø§Ù„Ø®Ø¯Ù…Ø©: ${service}%0AğŸ“‚ Ø§Ù„Ù†ÙˆØ¹: ${subType}%0AğŸ“ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©: ${location}%0AğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: ${phone}%0AğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${notes}`;
                    window.open(`https://wa.me/9647716741488?text=${message}`, '_blank');
                    
                    status.innerText = "ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­!";
                    this.reset();
                    setTimeout(closeM, 2000);
                } else {
                    status.innerText = "ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŒ Ø­Ø§ÙˆÙ„ Ø«Ø§Ù†ÙŠØ©.";
                }
            } catch (err) {
                status.innerText = "Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„.";
            } finally {
                btn.disabled = false;
            }
        };
    </script>
</body>
</html>
