<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø®Ø¯Ù…Ø§ØªÙŠ - Ø§Ù„Ø¨ØµØ±Ø© Ø§Ù„Ø´Ø§Ù…Ù„</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap');
        :root { 
            --royal-blue: #002366; 
            --gold: #D4AF37; 
            --white: #ffffff; 
            --card-bg: rgba(30, 41, 59, 0.8); 
            --success: #22c55e;
        }
        
        body { 
            font-family: 'Tajawal', sans-serif; margin: 0; padding: 0;
            background: radial-gradient(circle at top, var(--royal-blue), #020617);
            color: var(--white); min-height: 100vh; overflow-x: hidden;
            user-select: none; -webkit-tap-highlight-color: transparent;
        }

        /* Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ */
        #splash {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--royal-blue); z-index: 10000;
            display: flex; flex-direction: column; justify-content: center; align-items: center; transition: 0.8s;
        }
        .splash-logo { font-size: 3.5rem; font-weight: 900; color: var(--gold); animation: pulse 2s infinite; }
        .loader { width: 40px; height: 40px; border: 4px solid rgba(212, 175, 55, 0.2); border-top: 4px solid var(--gold); border-radius: 50%; animation: spin 1s linear infinite; margin-top: 20px; }
        
        @keyframes spin { to { transform: rotate(360deg); } }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }

        header { padding: 60px 20px 20px; text-align: center; }
        header h1 { font-size: 2.8rem; font-weight: 900; margin: 0; color: var(--gold); }
        header span { color: #fff; font-weight: 400; font-size: 1.5rem; display: block; }
        header p { opacity: 0.8; margin-top: 5px; }

        .container { width: 95%; max-width: 1200px; margin: 0 auto; padding-bottom: 120px; }
        
        .services-grid { 
            display: grid; 
            grid-template-columns: repeat(2, 1fr); 
            gap: 15px; 
            padding: 10px; 
        }
        @media (min-width: 768px) { .services-grid { grid-template-columns: repeat(4, 1fr); } }

        .service-card { 
            background: var(--card-bg); backdrop-filter: blur(15px); 
            border: 1px solid rgba(212, 175, 55, 0.1); 
            border-radius: 22px; padding: 20px 10px; text-align: center; 
            cursor: pointer; transition: 0.3s;
        }
        .service-card:active { transform: scale(0.95); }

        .icon-box { 
            width: 65px; height: 65px; border-radius: 18px; display: flex; 
            align-items: center; justify-content: center; margin: 0 auto 15px; 
            position: relative;
        }
        .service-card h3 { font-size: 0.95rem; margin: 0; font-weight: 700; color: #fff; }

        /* Ø§Ù„Ù†ÙˆØ§ÙØ° Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© */
        .modal-overlay { 
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.85); z-index: 9999; justify-content: center; 
            align-items: center; padding: 15px; backdrop-filter: blur(8px);
        }
        .modal-content { 
            background: #fff; color: #333; border-radius: 25px; padding: 25px; 
            width: 100%; max-width: 400px; position: relative;
            animation: slideUp 0.4s ease-out;
        }
        @keyframes slideUp { from { transform: translateY(50px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

        input, select, textarea { 
            width: 100%; padding: 14px; margin: 10px 0; border-radius: 12px; 
            border: 1.5px solid #eee; font-family: 'Tajawal'; box-sizing: border-box; font-size: 1rem;
        }
        input:focus { border-color: var(--royal-blue); outline: none; }

        .btn-submit { 
            background: var(--royal-blue); color: white; border: none; padding: 16px; 
            border-radius: 12px; width: 100%; font-size: 1.1rem; font-weight: 900; 
            cursor: pointer; margin-top: 10px; transition: 0.3s;
        }
        .btn-submit:disabled { background: #ccc; cursor: not-allowed; }
        
        .loading-spinner { display: none; text-align: center; margin-top: 15px; color: var(--royal-blue); font-weight: bold; }

        .whatsapp-float { 
            position: fixed; bottom: 25px; left: 25px; background: #25d366; 
            color: white !important; border-radius: 50px; padding: 12px 25px; 
            display: flex; align-items: center; gap: 10px; text-decoration: none; 
            font-weight: bold; z-index: 9998; box-shadow: 0 10px 25px rgba(37, 211, 102, 0.4);
        }
    </style>
</head>
<body>

    <div id="splash">
        <div class="splash-logo">Ø®ÙØ¯Ù’Ù…Ø§ØªÙŠ</div>
        <p style="color: var(--gold);">Ø§Ù„Ø¨ØµØ±Ø© Ø§Ù„Ø´Ø§Ù…Ù„</p>
        <div class="loader"></div>
    </div>

    <header>
        <h1>Ø®ÙØ¯Ù’Ù…Ø§ØªÙŠ <span>Ø§Ù„Ø¨ØµØ±Ø©</span></h1>
        <p>ÙƒÙ„ Ù…Ø§ ÙŠØ­ØªØ§Ø¬Ù‡ Ù…Ù†Ø²Ù„Ùƒ ÙÙŠ Ù…ÙƒØ§Ù† ÙˆØ§Ø­Ø¯</p>
    </header>

    <div class="container">
        <div class="services-grid" id="grid"></div>
    </div>

    <a href="https://wa.me/9647716741488" class="whatsapp-float">
        <i class="fab fa-whatsapp" style="font-size: 1.5rem;"></i> Ù…Ø±Ø§Ø³Ù„Ø© ÙˆØ§ØªØ³Ø§Ø¨
    </a>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ù…ÙˆØ­Ø¯Ø© -->
    <div id="masterModal" class="modal-overlay">
        <div class="modal-content">
            <h2 id="stitle" style="text-align:center; color: var(--royal-blue); margin-bottom: 20px;">Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø©</h2>
            <form id="orderForm">
                <!-- ØªÙ… ØªØºÙŠÙŠØ± Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ Ù„ØªÙƒÙˆÙ† Ø¢Ù…Ù†Ø© Ù…Ù† Ø§Ù„ÙÙ„ØªØ±Ø© -->
                <input type="hidden" name="category" id="h-service">
                
                <label style="font-size: 0.8rem; font-weight: bold; color: #666;">Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„ÙØ±Ø¹ÙŠ:</label>
                <select name="sub_category" id="sub-service"></select>
                
                <label style="font-size: 0.8rem; font-weight: bold; color: #666;">Ø§Ù„Ù…Ù†Ø·Ù‚Ø©:</label>
                <select name="area" id="u-loc" required>
                    <option value="">Ø§Ø®ØªØ± Ù…Ù†Ø·Ù‚ØªÙƒ...</option>
                    <option>Ù…Ø±ÙƒØ² Ø§Ù„Ø¨ØµØ±Ø©</option><option>Ø§Ù„Ø²Ø¨ÙŠØ±</option><option>Ø´Ø· Ø§Ù„Ø¹Ø±Ø¨</option>
                    <option>Ø£Ø¨ÙŠ Ø§Ù„Ø®ØµÙŠØ¨</option><option>Ø§Ù„Ù‚Ø±Ù†Ø©</option><option>Ø§Ù„ÙØ§Ùˆ</option>
                </select>
                
                <input type="tel" name="client_phone" id="u-phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ (07XXXXXXXXX)" required>
                <textarea name="request_details" id="u-desc" rows="3" placeholder="Ø§ÙƒØªØ¨ ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ© Ù‡Ù†Ø§..."></textarea>
                
                <button type="submit" class="btn-submit" id="submitBtn">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ ğŸš€</button>
                <div id="loaderStatus" class="loading-spinner">Ø¬Ø§Ø±Ù Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...</div>
                
                <button type="button" onclick="closeM()" style="background:none; border:none; color:#999; width:100%; margin-top:15px; cursor:pointer">Ø¥Ù„ØºØ§Ø¡</button>
            </form>
        </div>
    </div>

    <script>
        // Ø±Ø§Ø¨Ø· Formspree Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
        const FORMSPREE_ID = "mreqjepe";
        const ACTION_URL = `https://formspree.io/f/${FORMSPREE_ID}`;

        const servicesData = [
            { name: 'Ø³Ø¨Ø§ÙƒØ©', icon: 'fa-faucet', bg: '#3b82f6', subs: ['ØªØ£Ø³ÙŠØ³ Ù…ÙŠØ§Ù‡', 'Ù…Ø¶Ø®Ø§Øª', 'Ù…Ø¬Ø§Ø±ÙŠ'] },
            { name: 'ÙƒÙ‡Ø±Ø¨Ø§Ø¡', icon: 'fa-bolt-lightning', bg: '#ef4444', subs: ['ØªØ£Ø³ÙŠØ³ ÙƒÙ‡Ø±Ø¨Ø§Ø¡', 'Ø¨ÙˆØ±Ø¯Ø§Øª', 'Ø¥Ù†Ø§Ø±Ø©'] },
            { name: 'ØªÙƒÙŠÙŠÙ', icon: 'fa-wind', bg: '#06b6d4', subs: ['ØºØ³Ù„ Ø³Ø¨Ù„Øª', 'Ø´Ø­Ù† ØºØ§Ø²'] },
            { name: 'Ø£Ø¬Ù‡Ø²Ø© Ù…Ù†Ø²Ù„ÙŠØ©', icon: 'fa-blender', bg: '#8b5cf6', subs: ['ØºØ³Ø§Ù„Ø§Øª', 'Ø«Ù„Ø§Ø¬Ø§Øª'] },
            { name: 'Ù†Ø¬Ø§Ø±Ø©', icon: '', bg: '#f59e0b', subs: ['ØªØµÙ„ÙŠØ­ Ø£Ø«Ø§Ø«', 'ØºØ±Ù Ù†ÙˆÙ…'] },
            { name: 'Ø­Ø¯Ø§Ø¯Ø©', icon: 'fa-hammer', bg: '#64748b', subs: ['Ù„Ø­Ø§Ù… Ø¹Ø§Ù…', 'Ù…Ø¸Ù„Ø§Øª'] }, 
            { name: 'ÙƒØ§Ù…ÙŠØ±Ø§Øª Ù…Ø±Ø§Ù‚Ø¨Ø©', icon: 'fa-video', bg: '#f43f5e', subs: ['Ù†ØµØ¨ Ù…Ù†Ø¸ÙˆÙ…Ø©', 'ØµÙŠØ§Ù†Ø©'] },
            { name: 'Ø¨Ù†Ø§Ø¡ ÙˆØªØµÙ…ÙŠÙ…', icon: 'fa-trowel-bricks', bg: '#78350f', subs: ['Ø¨Ù†Ø§Ø¡ Ù‡ÙŠÙƒÙ„', 'ØªØ±Ù…ÙŠÙ…'] },
            { name: 'ØµÙŠØ§Ù†Ø© Ø³ÙŠØ§Ø±Ø§Øª', icon: 'fa-car-side', bg: '#0ea5e9', subs: ['Ù…ÙŠÙƒØ§Ù†ÙŠÙƒ', 'ÙƒÙ‡Ø±Ø¨Ø§Ø¡'] },
            { name: 'Ø£ØµØ¨Ø§Øº ÙˆØ¯ÙŠÙƒÙˆØ±Ø§Øª', icon: 'fa-paint-roller', bg: '#ec4899', subs: ['ØµØ¨Øº Ø¯Ø§Ø®Ù„ÙŠ', 'Ø¯ÙŠÙƒÙˆØ±'] },
            { name: 'ØºØ³ÙŠÙ„ Ø³ÙŠØ§Ø±Ø§Øª', icon: 'fa-car', bg: '#22d3ee', subs: ['ØºØ³Ù„ Ù…ØªÙ†Ù‚Ù„', 'ØªÙ„Ù…ÙŠØ¹'] }, 
            { name: 'Ù†Ù‚Ù„ Ø£Ø«Ø§Ø«', icon: 'fa-truck-moving', bg: '#fb923c', subs: ['Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¨ØµØ±Ø©', 'ØªÙÙƒÙŠÙƒ'] },
            { name: 'Ø­Ù„Ø§Ù‚Ø© Ù…Ù†Ø²Ù„ÙŠØ©', icon: 'fa-scissors', bg: '#d946ef', subs: ['Ø´Ø¹Ø± ÙˆÙ„Ø­ÙŠØ©'] },
            { name: 'ØµÙŠØ§Ù†Ø© Ù…ÙˆØ¨Ø§ÙŠÙ„', icon: 'fa-mobile-screen', bg: '#6366f1', subs: ['ØªØ¨Ø¯ÙŠÙ„ Ø´Ø§Ø´Ø©', 'Ø³ÙˆÙØªÙˆÙŠØ±'] },
            { name: 'Ø±Ø¹Ø§ÙŠØ© ÙƒØ¨Ø§Ø± Ø§Ù„Ø³Ù†', icon: 'fa-heart-pulse', bg: '#ef4444', subs: ['Ù…Ø±Ø§ÙÙ‚ ØµØ­ÙŠ'] },
            { name: 'ØªÙ†Ø¸ÙŠÙ Ø£Ø«Ø§Ø«', icon: 'fa-couch', bg: '#a855f7', subs: ['Ù‚Ù†ÙØ§Øª ÙˆØ³Ø¬Ø§Ø¯'] },
            { name: 'Ù…Ø³ÙˆØ§Ù‚ ÙˆØªÙˆØµÙŠÙ„', icon: 'fa-cart-shopping', bg: '#22c55e', subs: ['Ù…Ø³ÙˆØ§Ù‚ Ù…Ø®Ø¶Ø±', 'ØªÙˆØµÙŠÙ„'] },
            { name: 'ØµÙŠØ§Ù†Ø© Ù…ÙˆÙ„Ø¯Ø§Øª', icon: 'fa-gear', bg: '#facc15', subs: ['ØµÙŠØ§Ù†Ø© Ù…Ù†Ø²Ù„ÙŠØ©', 'ØªØ¨Ø¯ÙŠÙ„ Ø¯Ù‡Ù†'] },
            { name: 'Ø­Ø¯Ø§Ø¦Ù‚', icon: 'fa-leaf', bg: '#10b981', subs: ['ØªÙ†Ø³ÙŠÙ‚ Ø­Ø¯Ø§Ø¦Ù‚', 'Ø«ÙŠÙ„'] },
            { name: 'Ø¯Ø±ÙˆØ³ Ø®ØµÙˆØµÙŠØ©', icon: 'fa-book-open', bg: '#3b82f6', subs: ['Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠ', 'Ù…ØªÙˆØ³Ø·Ø©'] }
        ];

        const grid = document.getElementById('grid');
        
        servicesData.forEach(s => {
            let iconMarkup = `<i class="fa-solid ${s.icon}" style="color: white; font-size: 1.5rem;"></i>`;
            let extra = "";

            if(s.name === "Ù†Ø¬Ø§Ø±Ø©") {
                iconMarkup = `
                    <div style="display: flex; gap: 5px; align-items: center; justify-content: center; color: white;">
                        <i class="fa-solid fa-hammer" style="font-size: 1.2rem;"></i>
                        <i class="fa-solid fa-screwdriver" style="font-size: 1.2rem;"></i>
                    </div>`;
            }
            if(s.name === "ØµÙŠØ§Ù†Ø© Ù…ÙˆÙ„Ø¯Ø§Øª") {
                extra = '<i class="fa-solid fa-bolt" style="position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); color:white; font-size:14px;"></i>';
            }

            grid.innerHTML += `
                <div class="service-card" onclick="openM('${s.name}')">
                    <div class="icon-box" style="background: ${s.bg}; box-shadow: 0 8px 15px ${s.bg}44;">
                        ${iconMarkup}
                        ${extra}
                    </div>
                    <h3>${s.name}</h3>
                </div>`;
        });

        window.onload = () => { 
            setTimeout(() => { 
                document.getElementById('splash').style.opacity = '0'; 
                setTimeout(() => document.getElementById('splash').style.display = 'none', 800); 
            }, 1800); 
        };

        function openM(n) { 
            const s = servicesData.find(x => x.name === n); 
            document.getElementById('stitle').innerText = "Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø© " + n; 
            document.getElementById('h-service').value = n; 
            document.getElementById('sub-service').innerHTML = s.subs.map(opt => `<option>${opt}</option>`).join(''); 
            document.getElementById('masterModal').style.display = 'flex'; 
        }

        function closeM() { 
            document.getElementById('masterModal').style.display = 'none'; 
        }

        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¢Ù…Ù†
        document.getElementById('orderForm').onsubmit = async (e) => {
            e.preventDefault();
            const btn = document.getElementById('submitBtn');
            const loader = document.getElementById('loaderStatus');
            
            // Ù‚ÙÙ„ Ø§Ù„Ø²Ø± Ù„Ù…Ù†Ø¹ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…ØªÙƒØ±Ø±
            btn.disabled = true;
            btn.style.display = 'none';
            loader.style.display = 'block';

            const formData = new FormData(e.target);

            try {
                const response = await fetch(ACTION_URL, {
                    method: 'POST',
                    body: formData,
                    headers: { 'Accept': 'application/json' }
                });

                if (response.ok) {
                    alert("âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­! Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙˆÙ‚Øª.");
                    e.target.reset();
                    closeM();
                } else {
                    const data = await response.json();
                    alert("âš ï¸ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„: " + (data.errors ? data.errors[0].message : "ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹"));
                }
            } catch (error) {
                alert("âŒ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„ØŒ ØªØ£ÙƒØ¯ Ù…Ù† Ø§ØªØµØ§Ù„Ùƒ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª.");
            } finally {
                btn.disabled = false;
                btn.style.display = 'block';
                loader.style.display = 'none';
            }
        };
    </script>
</body>
</html>
