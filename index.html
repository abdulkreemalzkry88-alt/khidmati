<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Service Company - Ù„Ù„Ø®Ø¯Ù…Ø§Øª Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap');
        :root { 
            --royal-blue: #002366; 
            --gold: #D4AF37; 
            --white: #ffffff; 
            --glass-bg: rgba(255, 255, 255, 0.08);
            --gold-glow: rgba(212, 175, 55, 0.4);
        }
        
        body { 
            font-family: 'Tajawal', sans-serif; margin: 0; padding: 0;
            background: radial-gradient(circle at center, #003399 0%, #001133 100%);
            color: var(--white); min-height: 100vh; overflow-x: hidden;
        }

        .header {
            text-align: center; padding: 40px 20px;
            background: var(--glass-bg); backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--gold); margin-bottom: 30px;
        }

        .header h1 { 
            margin: 0; font-size: 2.5rem; font-weight: 900; color: var(--gold);
            text-shadow: 0 0 15px var(--gold-glow);
        }

        .container { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; padding: 20px; max-width: 1200px; margin: auto; }

        .card {
            background: var(--glass-bg); backdrop-filter: blur(15px);
            border: 1px solid rgba(255,255,255,0.1); border-radius: 20px;
            padding: 20px; text-align: center; transition: 0.4s; cursor: pointer;
            position: relative; overflow: hidden;
        }

        .card:active { transform: scale(0.95); border-color: var(--gold); box-shadow: 0 0 20px var(--gold-glow); }

        .card i, .card .material-symbols-outlined { font-size: 2.5rem; margin-bottom: 15px; display: block; color: var(--gold); }

        /* Modal Styles */
        .modal {
            display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); backdrop-filter: blur(10px); align-items: center; justify-content: center;
        }

        .modal-content {
            background: #001a44; border: 1px solid var(--gold); padding: 30px;
            border-radius: 25px; width: 90%; max-width: 450px; position: relative;
        }

        input, select, textarea {
            width: 100%; padding: 12px; margin: 10px 0; border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.2); background: rgba(255,255,255,0.05);
            color: white; font-family: 'Tajawal'; box-sizing: border-box;
        }

        button {
            width: 100%; padding: 15px; border-radius: 12px; border: none;
            background: var(--gold); color: var(--royal-blue); font-weight: bold;
            font-size: 1.1rem; cursor: pointer; transition: 0.3s;
        }

        button:hover { background: #fff; transform: translateY(-2px); }
    </style>
</head>
    <body>
    <div class="header">
        <h1>Service Company</h1>
        <p>Ø­Ù„ÙˆÙ„ Ù…Ù†Ø²Ù„ÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ø¨Ù„Ù…Ø³Ø© Ø§Ø­ØªØ±Ø§ÙÙŠØ©</p>
    </div>

    <div class="container" id="services-grid">
        </div>

    <div id="masterModal" class="modal">
        <div class="modal-content">
            <h2 id="modal-title" style="color:var(--gold); margin-top:0;">Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø©</h2>
            <form id="orderForm">
                <input type="hidden" id="h-service">
                <select id="sub-service" required></select>
                <select id="u-loc" required>
                    <option value="" disabled selected>Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</option>
                    <option>Ù…Ø±ÙƒØ² Ø§Ù„Ø¨ØµØ±Ø©</option>
                    <option>Ø§Ù„Ø²Ø¨ÙŠØ±</option>
                    <option>Ø´Ø· Ø§Ù„Ø¹Ø±Ø¨</option>
                    <option>Ø£Ø¨ÙŠ Ø§Ù„Ø®ØµÙŠØ¨</option>
                    <option>Ø§Ù„Ù‚Ø±Ù†Ø©</option>
                    <option>Ø§Ù„ÙØ§Ùˆ</option>
                    <option>Ø§Ù„Ù‡Ø§Ø±Ø«Ø©</option>
                    <option>Ø³ÙÙˆØ§Ù†</option>
                    <option>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</option>
                </select>
                <input type="tel" id="u-phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ" required>
                <textarea id="u-desc" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)" rows="3"></textarea>
                <button type="submit" id="submitBtn">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø§Ù„Ø¢Ù†</button>
            </form>
            <p id="status" style="text-align:center; margin-top:10px;"></p>
        </div>
    </div>
        <script>
        const services = [
            { id: 'ac', name: 'ØªÙƒÙŠÙŠÙ ÙˆØªØ¨Ø±ÙŠØ¯', icon: 'fa-snowflake', subs: ['ØªÙ†Ø¸ÙŠÙ Ø³Ø¨Ù„ÙŠØª', 'Ø´Ø­Ù† ØºØ§Ø²', 'ØªØµÙ„ÙŠØ­ Ø¹Ø·Ù„', 'ØªØ±ÙƒÙŠØ¨ Ø¬Ø¯ÙŠØ¯'] },
            { id: 'elec', name: 'ÙƒÙ‡Ø±Ø¨Ø§Ø¡', icon: 'fa-bolt', subs: ['ØªØ£Ø³ÙŠØ³ ÙƒØ§Ù…Ù„', 'ØªØµÙ„ÙŠØ­ Ø´ÙˆØ±Øª', 'ØªØ±ÙƒÙŠØ¨ Ø¥Ù†Ø§Ø±Ø©', 'Ø³Ø­Ø¨ Ø®Ø·ÙˆØ·'] },
            { id: 'plumb', name: 'Ø³Ø¨Ø§ÙƒØ©', icon: 'fa-droplet', subs: ['ØªØµÙ„ÙŠØ­ Ù†Ø¶ÙˆØ­', 'ØªØ£Ø³ÙŠØ³ Ù…Ø§Ø¡', 'ØªØ±ÙƒÙŠØ¨ ÙÙ„Ø§ØªØ±', 'ØµÙŠØ§Ù†Ø© Ù…Ø¬Ø§Ø±ÙŠ'] },
            { id: 'wood', name: 'Ù†Ø¬Ø§Ø±Ø©', icon: 'fa-hammer', subs: ['ØªØµÙ„ÙŠØ­ Ø£Ø¨ÙˆØ§Ø¨', 'ØºØ±Ù Ù†ÙˆÙ…', 'Ø£Ø«Ø§Ø« Ù…Ø·Ø¨Ø®', 'ØªØ±ÙƒÙŠØ¨ Ø¯ÙŠÙƒÙˆØ±'] },
            { id: 'gen', name: 'ØµÙŠØ§Ù†Ø© Ù…ÙˆÙ„Ø¯Ø§Øª', icon: 'fa-gears', subs: ['ØµÙŠØ§Ù†Ø© Ø¯ÙˆØ±ÙŠØ©', 'ØªØµÙ„ÙŠØ­ Ù…Ø­Ø±Ùƒ', 'Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ…', 'ØªØ¨Ø¯ÙŠÙ„ Ø¯Ù‡Ù†'] }
        ];

        const grid = document.getElementById('services-grid');
        services.forEach(s => {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `<i class="fas ${s.icon}"></i><h3>${s.name}</h3>`;
            card.onclick = () => openM(s);
            grid.appendChild(card);
        });

        function openM(s) {
            document.getElementById('modal-title').innerText = s.name;
            document.getElementById('h-service').value = s.name;
            document.getElementById('sub-service').innerHTML = s.subs.map(opt => `<option>${opt}</option>`).join('');
            document.getElementById('masterModal').style.display = 'flex';
        }

        function closeM() { document.getElementById('masterModal').style.display = 'none'; }

        window.onclick = function(e) { if (e.target == document.getElementById('masterModal')) closeM(); }

        document.getElementById('orderForm').onsubmit = async function(e) {
            e.preventDefault();
            const submitBtn = document.getElementById('submitBtn');
            const status = document.getElementById('status');
            
            const service = document.getElementById('h-service').value;
            const subType = document.getElementById('sub-service').value;
            const location = document.getElementById('u-loc').value;
            const phone = document.getElementById('u-phone').value;
            const notes = document.getElementById('u-desc').value || "Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª";

            // ØªØ­Ø¶ÙŠØ± Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù€ Formspree
            const formData = new FormData();
            formData.append('Ø§Ù„Ø®Ø¯Ù…Ø©', service);
            formData.append('Ø§Ù„Ù†ÙˆØ¹', subType);
            formData.append('Ø§Ù„Ù…Ù†Ø·Ù‚Ø©', location);
            formData.append('Ø§Ù„Ù‡Ø§ØªÙ', phone);
            formData.append('Ù…Ù„Ø§Ø­Ø¸Ø§Øª', notes);

            submitBtn.disabled = true;
            status.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";

            try {
                // 1. Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ Formspree (Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„)
                const response = await fetch("https://formspree.io/f/mreqjepe", {
                    method: "POST",
                    body: formData,
                    headers: { 'Accept': 'application/json' }
                });

                if (response.ok) {
                    status.style.color = "#4CAF50";
                    status.innerText = "ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„Ø¥ÙŠÙ…ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­!";
                    
                    // 2. ÙØªØ­ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ ÙƒØ®Ø·ÙˆØ© Ø¥Ø¶Ø§ÙÙŠØ©
                    const message = `*Ø·Ù„Ø¨ Ø®Ø¯Ù…Ø© Ø¬Ø¯ÙŠØ¯*%0A%0A` +
                                    `ğŸ”§ *Ø§Ù„Ø®Ø¯Ù…Ø©:* ${service}%0A` +
                                    `ğŸ“‚ *Ø§Ù„Ù†ÙˆØ¹:* ${subType}%0A` +
                                    `ğŸ“ *Ø§Ù„Ù…Ù†Ø·Ù‚Ø©:* ${location}%0A` +
                                    `ğŸ“ *Ø§Ù„Ù‡Ø§ØªÙ:* ${phone}%0A` +
                                    `ğŸ“ *Ø§Ù„ØªÙØ§ØµÙŠÙ„:* ${notes}`;
                    
                    setTimeout(() => {
                        window.open(`https://wa.me/9647716741488?text=${message}`, '_blank');
                        closeM();
                        this.reset();
                        submitBtn.disabled = false;
                        status.innerText = "";
                    }, 1000);
                }
            } catch (error) {
                status.style.color = "#ff4444";
                status.innerText = "Ø­Ø¯Ø« Ø®Ø·Ø£ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.";
                submitBtn.disabled = false;
            }
        };
    </script>
</body>
</html>

