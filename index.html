<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø®ÙØ¯Ù’Ù…Ø§ØªÙŠ Ø§Ù„Ø¹Ø±Ø§Ù‚ - Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ø´Ø§Ù…Ù„Ø©</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap');

        :root { 
            --accent: #06b6d4; 
            --dark: #020617; 
            --glass: rgba(255, 255, 255, 0.05); 
            --text-color: #f8fafc;
        }

        * { box-sizing: border-box; }

        body { 
            font-family: 'Tajawal', sans-serif; margin: 0; padding: 0;
            background: var(--dark); color: var(--text-color);
            background-image: linear-gradient(rgba(2, 6, 23, 0.9), rgba(2, 6, 23, 0.9)), 
            url('https://www.transparentpng.com/download/iraq-map/vector-iraq-map-free-png-images-SgYl0T.png');
            background-size: contain; background-position: center; background-repeat: no-repeat; background-attachment: fixed;
            overflow-x: hidden;
        }

        /* --- Ø´Ø§Ø´Ø© Ø§Ù„Ø§ÙØªØªØ§Ø­ (Splash Screen) --- */
        #splash {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #020617; z-index: 10000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: opacity 0.8s ease, visibility 0.8s;
        }

        .splash-logo {
            font-size: 4rem; font-weight: 900; color: var(--accent);
            text-shadow: 0 0 30px rgba(6, 182, 212, 0.5);
            animation: pulse 2s infinite;
        }

        .splash-tagline {
            color: #fff; font-size: 1.2rem; margin-top: 15px;
            letter-spacing: 4px; opacity: 0; animation: fadeIn 1.5s forwards 0.5s;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }

        @keyframes fadeIn {
            to { opacity: 0.8; }
        }

        /* --- ØªØµÙ…ÙŠÙ… Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ --- */
        header { padding: 50px 20px; text-align: center; }
        header h1 { font-size: 3rem; font-weight: 900; margin: 0; background: linear-gradient(to right, #fff, var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        .container { width: 92%; max-width: 1200px; margin: 0 auto; padding-bottom: 60px; }

        .services-grid { 
            display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); 
            gap: 20px; padding: 20px 0; 
        }

        .service-card { 
            background: var(--glass); backdrop-filter: blur(15px); 
            border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 24px; 
            padding: 30px 15px; text-align: center; cursor: pointer; transition: 0.3s;
        }

        .service-card:hover { border-color: var(--accent); transform: translateY(-8px); box-shadow: 0 12px 40px rgba(6, 182, 212, 0.25); }
        .icon-box { font-size: 2.8rem; color: var(--accent); margin-bottom: 15px; }
        .service-card h3 { font-size: 1.1rem; margin: 0; font-weight: 700; }

        /* --- Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© (Modal) --- */
        .modal-overlay { 
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); backdrop-filter: blur(8px); z-index: 9999; 
            justify-content: center; align-items: center; padding: 15px;
        }

        .modal-content { 
            background: #ffffff; color: #1e293b; border-radius: 32px; padding: 35px;
            width: 100%; max-width: 500px; position: relative; border: 4px solid var(--accent);
            max-height: 90vh; overflow-y: auto; box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        .close-btn { position: absolute; top: 20px; left: 20px; font-size: 1.8rem; cursor: pointer; color: #94a3b8; border: none; background: none; }

        h2 { text-align: center; font-weight: 900; color: var(--dark); margin: 0 0 25px 0; font-size: 1.6rem; border-bottom: 2px solid #f1f5f9; padding-bottom: 15px; }
        label { display: block; margin-top: 15px; font-weight: 800; font-size: 0.9rem; color: #475569; }
        
        input, select, textarea { 
            width: 100%; padding: 15px; margin: 8px 0; border-radius: 14px; 
            border: 2px solid #e2e8f0; background: #f8fafc; font-family: 'Tajawal'; 
            font-weight: 700; font-size: 1rem; outline: none; transition: 0.2s;
        }

        input:focus, select:focus, textarea:focus { border-color: var(--accent); }

        .btn-action { 
            background: linear-gradient(135deg, #0f172a, #1e293b); color: white; border: none; 
            padding: 18px; border-radius: 16px; width: 100%; font-size: 1.2rem; 
            font-weight: 900; cursor: pointer; margin-top: 20px; transition: 0.3s;
        }

        .btn-action:hover { transform: scale(1.02); background: #000; }

        .loc-btn {
            background: #f1f5f9; color: #0f172a; border: 2px dashed var(--accent); padding: 14px;
            border-radius: 14px; width: 100%; cursor: pointer; font-weight: 800; 
            display: flex; align-items: center; justify-content: center; gap: 10px; transition: 0.2s;
        }
    </style>
</head>
<body>

    <div id="splash">
        <div class="splash-logo">Ø®ÙØ¯Ù’Ù…Ø§ØªÙŠ</div>
        <div class="splash-tagline">Ø§Ù„Ø¹Ø±Ø§Ù‚ ÙÙŠ ÙŠØ¯Ùƒ</div>
    </div>

    <header>
        <h1>Ø®ÙØ¯Ù’Ù…Ø§ØªÙŠ <span>Ø§Ù„Ø¹Ø±Ø§Ù‚</span></h1>
    </header>

    <div class="container">
        <div class="services-grid" id="servicesGrid"></div>
    </div>

    <div id="masterModal" class="modal-overlay">
        <div class="modal-content">
            <button class="close-btn" onclick="closeModal()">&times;</button>
            
            <div id="step-order">
                <h2>ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨</h2>
                <label>Ù…Ø§ Ø§Ù„Ø®Ø¯Ù…Ø© Ø§Ù„ØªÙŠ ØªØ­ØªØ§Ø¬Ù‡Ø§ØŸ</label>
                <select id="sub-service"></select>
                
                <label>Ù…ÙˆÙ‚Ø¹Ùƒ Ù„Ø³Ù‡ÙˆÙ„Ø© Ø§Ù„ÙˆØµÙˆÙ„:</label>
                <button class="loc-btn" onclick="getLocation()" id="loc-btn">Ø¥Ø±Ø³Ø§Ù„ Ù…ÙˆÙ‚Ø¹ÙŠ Ø§Ù„Ø­Ø§Ù„ÙŠ ğŸ“</button>
                <input type="hidden" id="geo-link" value="ØºÙŠØ± Ù…Ø­Ø¯Ø¯">

                <label>ÙˆØµÙ Ø§Ù„Ù…Ø´ÙƒÙ„Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>
                <textarea id="user-desc" rows="3" placeholder="Ù…Ø«Ù„Ø§Ù‹: ØºØ³Ù„ Ø³ÙŠØ§Ø±Ø© ØµØ§Ù„ÙˆÙ† ÙÙŠ Ø§Ù„Ù…Ù†Ø²Ù„..."></textarea>
                
                <button class="btn-action" onclick="goToAuth()">Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ù„Ù„ØªØ³Ø¬ÙŠÙ„ ğŸš€</button>
            </div>

            <div id="step-auth" style="display:none">
                <h2>Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù„Ù„ØªÙˆØ§ØµÙ„</h2>
                <input type="text" id="u-name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ Ø§Ù„ÙƒØ§Ù…Ù„">
                <input type="tel" id="u-phone" placeholder="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ (07XXXXXXXXX)">
                
                <label>Ø§Ù„Ù…Ø­Ø§ÙØ¸Ø©:</label>
                <select id="u-prov" onchange="updateDistricts()"></select>
                
                <label>Ø§Ù„Ù‚Ø¶Ø§Ø¡ / Ø§Ù„Ù…Ù†Ø·Ù‚Ø©:</label>
                <select id="u-dist"></select>

                <input type="text" id="u-area" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø£Ùˆ Ø§Ù„Ø­ÙŠ Ø§Ù„Ø³ÙƒÙ†ÙŠ">
                <input type="password" id="u-pass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">

                <button class="btn-action" onclick="finishOrder()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨ âœ…</button>
            </div>
        </div>
    </div>

    <script>
        // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø®Ø¯Ù…Ø§Øª ÙˆØ§Ù„Ù…Ø­Ø§ÙØ¸Ø§Øª
        const config = {
            services: [
                { name: 'ØºØ³ÙŠÙ„ Ø³ÙŠØ§Ø±Ø§Øª', icon: 'fa-car-wash', subs: ['ØºØ³Ù„ Ø®Ø§Ø±Ø¬ÙŠ Ù…ØªÙ†Ù‚Ù„', 'ØªÙ†Ø¸ÙŠÙ Ø¯Ø§Ø®Ù„ÙŠ Ø¨Ø®Ø§Ø±', 'ØªÙ„Ù…ÙŠØ¹ Ù†Ø§Ù†Ùˆ'] },
                { name: 'Ø³Ø¨Ø§ÙƒØ©', icon: 'fa-droplet', subs: ['ØªØ£Ø³ÙŠØ³ Ù…ÙŠØ§Ù‡', 'ØªØµÙ„ÙŠØ­ Ù…Ø¶Ø®Ø§Øª', 'ØªØ³Ù„ÙŠÙƒ Ù…Ø¬Ø§Ø±ÙŠ'] },
                { name: 'ØµÙŠØ§Ù†Ø© Ù…ÙˆÙ„Ø¯Ø§Øª', icon: 'fa-engine', subs: ['ØªØ¨Ø¯ÙŠÙ„ Ø¯Ù‡Ù† ÙˆÙÙ„Ø§ØªØ±', 'ØªØµÙ„ÙŠØ­ Ø³Ù„Ù', 'ØµÙŠØ§Ù†Ø© Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…'] },
                { name: 'ØªÙƒÙŠÙŠÙ', icon: 'fa-wind', subs: ['ØºØ³Ù„ Ø³Ø¨Ù„Øª', 'Ø´Ø­Ù† ØºØ§Ø²', 'ØµÙŠØ§Ù†Ø© ÙƒØ§Ø±Øª'] },
                { name: 'Ø­Ù„Ø§Ù‚Ø© Ù…Ù†Ø²Ù„ÙŠØ©', icon: 'fa-cut', subs: ['Ø­Ù„Ø§Ù‚Ø© Ø´Ø¹Ø±', 'Ø­Ù„Ø§Ù‚Ø© Ø°Ù‚Ù†', 'ØªÙ†Ø¸ÙŠÙ Ø¨Ø´Ø±Ø©'] },
                { name: 'ØªÙ†Ø¸ÙŠÙ Ø£Ø«Ø§Ø«', icon: 'fa-couch', subs: ['ØºØ³Ù„ Ù‚Ù†ÙØ§Øª', 'ØªÙ†Ø¸ÙŠÙ Ø³Ø¬Ø§Ø¯'] }
            ],
            provinces: {
                'Ø¨ØºØ¯Ø§Ø¯': ['Ø§Ù„ÙƒØ±Ø®', 'Ø§Ù„Ø±ØµØ§ÙØ©', 'Ø§Ù„Ø£Ø¹Ø¸Ù…ÙŠØ©', 'Ø§Ù„ØµØ¯Ø±', 'Ø§Ù„Ù…Ù†ØµÙˆØ±', 'Ø§Ù„ÙƒØ§Ø¸Ù…ÙŠØ©'],
                'Ø§Ù„Ø¨ØµØ±Ø©': ['Ø§Ù„Ù…Ø±ÙƒØ²', 'Ø§Ù„Ø²Ø¨ÙŠØ±', 'Ø§Ù„Ù‚Ø±Ù†Ø©', 'Ø´Ø· Ø§Ù„Ø¹Ø±Ø¨'],
                'Ù†ÙŠÙ†ÙˆÙ‰': ['Ø§Ù„Ù…ÙˆØµÙ„', 'ØªÙ„Ø¹ÙØ±', 'Ø³Ù†Ø¬Ø§Ø±'],
                'Ø§Ù„Ù†Ø¬Ù': ['Ø§Ù„Ù…Ø±ÙƒØ²', 'Ø§Ù„ÙƒÙˆÙØ©', 'Ø§Ù„Ù…Ù†Ø§Ø°Ø±Ø©'],
                'ÙƒØ±Ø¨Ù„Ø§Ø¡': ['Ø§Ù„Ù…Ø±ÙƒØ²', 'Ø§Ù„Ù‡Ù†Ø¯ÙŠØ©', 'Ø¹ÙŠÙ† Ø§Ù„ØªÙ…Ø±'],
                'Ø£Ø±Ø¨ÙŠÙ„': ['Ø§Ù„Ù…Ø±ÙƒØ²', 'Ø¹ÙŠÙ†ÙƒØ§ÙˆØ©', 'Ø´Ù‚Ù„Ø§ÙˆØ©']
            }
        };

        // Ø¨Ù†Ø§Ø¡ Ø´Ø¨ÙƒØ© Ø§Ù„Ø®Ø¯Ù…Ø§Øª
        const grid = document.getElementById('servicesGrid');
        config.services.forEach(s => {
            grid.innerHTML += `
                <div class="service-card" onclick="openModal('${s.name}')">
                    <div class="icon-box"><i class="fas ${s.icon}"></i></div>
                    <h3>${s.name}</h3>
                </div>
            `;
        });

        // ØªØ´ØºÙŠÙ„ Ø´Ø§Ø´Ø© Ø§Ù„Ø§ÙØªØªØ§Ø­
        window.addEventListener('load', () => {
            setTimeout(() => {
                const splash = document.getElementById('splash');
                splash.style.opacity = '0';
                setTimeout(() => { splash.style.visibility = 'hidden'; }, 800);
            }, 2500);
        });

        let selectedService = "";

        function openModal(serviceName) {
            selectedService = serviceName;
            const s = config.services.find(x => x.name === serviceName);
            document.getElementById('sub-service').innerHTML = s.subs.map(opt => `<option>${opt}</option>`).join('');
            document.getElementById('u-prov').innerHTML = '<option value="">Ø§Ø®ØªØ± Ù…Ø­Ø§ÙØ¸Ø©</option>' + Object.keys(config.provinces).map(p => `<option>${p}</option>`).join('');
            document.getElementById('step-order').style.display = 'block';
            document.getElementById('step-auth').style.display = 'none';
            document.getElementById('masterModal').style.display = 'flex';
        }

        function closeModal() { document.getElementById('masterModal').style.display = 'none'; }

        function updateDistricts() {
            const prov = document.getElementById('u-prov').value;
            const districts = config.provinces[prov] || [];
            document.getElementById('u-dist').innerHTML = districts.map(d => `<option>${d}</option>`).join('');
        }

        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(pos => {
                    document.getElementById('geo-link').value = `${pos.coords.latitude},${pos.coords.longitude}`;
                    const btn = document.getElementById('loc-btn');
                    btn.innerText = "ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆÙ‚Ø¹Ùƒ âœ…";
                    btn.style.background = "#dcfce7";
                });
            }
        }

        function goToAuth() {
            document.getElementById('step-order').style.display = 'none';
            document.getElementById('step-auth').style.display = 'block';
        }

        function finishOrder() {
            const name = document.getElementById('u-name').value;
            if (name.length < 5) return alert("ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ");
            alert("Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ " + name + "! ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨Ùƒ Ù„Ø®Ø¯Ù…Ø© " + selectedService + " Ø¨Ù†Ø¬Ø§Ø­.");
            closeModal();
        }
    </script>
</body>
</html>
